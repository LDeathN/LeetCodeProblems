#First Problem (648)
class TrieNode:
    def __init__(self):
        self.children = {}
        self.is_end_of_word = False

class Solution(object):
    def replaceWords(self, dictionary, sentence):
        root_trie = TrieNode()
        
        for root in dictionary:
            current = root_trie
            for char in root:
                if char not in current.children:
                    current.children[char] = TrieNode()
                current = current.children[char]
            current.is_end_of_word = True
        
        def find_root(word):
            current = root_trie
            prefix = ""
            for char in word:
                if char not in current.children:
                    break
                prefix += char
                current = current.children[char]
                if current.is_end_of_word:
                    return prefix
            return word

        words = sentence.split()
        replaced_sentence = " ".join(find_root(word) for word in words)
        return replaced_sentence




